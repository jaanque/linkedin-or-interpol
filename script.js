const translations = {
    "en": {
        "title": "LinkedIn or Interpol",
        "subtitle": "Professional or Criminal? You decide!",
        "score": "Score",
        "total": "Total",
        "autoAdvance": "Auto-Advance",
        "linkedinButton": "LinkedIn",
        "interpolButton": "Interpol",
        "nextButton": "Next Image",
        "footerTitle": "LinkedIn or Interpol - A Deduction Game - Version 1.0",
        "footerDisclaimer": "Disclaimer: This website is a satirical and educational guessing game.",
        "privacyPolicy": "Privacy Policy",
        "termsOfService": "Terms of Service",
        "copyright": "© 2025 Jan Queralt. All rights reserved.",
        "correct": "Correct!",
        "wrong": "Wrong!",
        "imgDesc1": "This person is on LinkedIn.",
        "imgDesc2": "Wanted for international pastry theft.",
        "imgDesc3": "This person is on LinkedIn.",
        "imgDesc4": "Wanted for replacing all the office coffee with decaf.",
        "imgDesc5": "This person is on LinkedIn.",
        "imgDesc6": "Wanted for masterminding a global network of illegal rubber duck smuggling.",
        "imgDesc7": "This person is on LinkedIn.",
        "imgDesc8": "Wanted for teaching squirrels how to commit bank fraud.",
        "imgDesc9": "This person is on LinkedIn.",
        "imgDesc10": "This person is on LinkedIn.",
        "imgDesc11": "This person is on LinkedIn.",
        "imgDesc12": "This person is on LinkedIn.",
        "imgDesc13": "This person is on LinkedIn.",
        "imgDesc14": "Wanted for questioning in the great maple syrup heist of 2012.",
        "imgDesc15": "Suspected of leading a secret society of competitive nappers.",
        "imgDesc16": "Accused of orchestrating a series of well-mannered flash mobs.",
        "imgDesc17": "Wanted for distributing counterfeit compliments.",
        "imgDesc18": "Allegedly responsible for a city-wide outbreak of uncontrollable polka dancing.",
        "imgDesc19": "This person is on LinkedIn.",
        "imgDesc20": "This person is on LinkedIn.",
        "imgDesc21": "Wanted for leaving pineapple on pizza at an international summit.",
        "imgDesc22": "This person is on LinkedIn.",
        "imgDesc23": "This person is on LinkedIn.",
        "imgDesc24": "Suspected of replacing all the pens in the city with invisible ink pens.",
        "imgDesc25": "This person is on LinkedIn.",
        "imgDesc26": "Accused of programming ducks to quack in morse code to organize heists.",
        "imgDesc27": "This person is on LinkedIn.",
        "imgDesc28": "Wanted for questioning regarding the sudden appearance of garden gnomes on the moon.",
        "imgDesc29": "This person is on LinkedIn.",
        "imgDesc30": "This person is on LinkedIn.",
        "imgDesc31": "Mastermind behind a global network of competitive thumb wrestling.",
        "imgDesc32": "This person is on LinkedIn.",
        "imgDesc33": "Suspected of illegally downloading a car.",
        "imgDesc34": "This person is on LinkedIn.",
        "imgDesc35": "This person is on LinkedIn.",
        "imgDesc36": "Wanted for replacing the national anthem with a kazoo solo.",
        "imgDesc37": "This person is on LinkedIn.",
        "imgDesc38": "Accused of teaching pigeons to play chess and hustle tourists.",
        "imgDesc39": "Wanted for illegally constructing a pillow fort in a national monument.",
        "imgDesc40": "This person is on LinkedIn.",
        "imgDesc41": "This person is on LinkedIn.",
        "imgDesc42": "Suspected of unleashing an army of polite, apology-saying robots.",
        "imgDesc43": "This person is on LinkedIn.",
        "imgDesc44": "Wanted for swapping all the sugar with salt in a major city's cafes.",
        "imgDesc45": "Accused of being the world's most notorious sock thief.",
        "imgDesc46": "This person is on LinkedIn.",
        "imgDesc47": "This person is on LinkedIn.",
        "imgDesc48": "Wanted for organizing a synchronized swimming event in the Trevi Fountain.",
        "imgDesc49": "Suspected of replacing a CEO's presentation with cat videos.",
        "imgDesc50": "This person is on LinkedIn."
    },
    "es": {
        "title": "LinkedIn o Interpol",
        "subtitle": "¿Profesional o Criminal? ¡Tú decides!",
        "score": "Puntuación",
        "total": "Total",
        "autoAdvance": "Avance Automático",
        "linkedinButton": "LinkedIn",
        "interpolButton": "Interpol",
        "nextButton": "Siguiente Imagen",
        "footerTitle": "LinkedIn o Interpol - Un Juego de Deducción - Versión 1.0",
        "footerDisclaimer": "Aviso legal: Este sitio web es un juego de adivinanzas satírico y educativo.",
        "privacyPolicy": "Política de Privacidad",
        "termsOfService": "Términos de Servicio",
        "copyright": "© 2025 Jan Queralt. Todos los derechos reservados.",
        "correct": "¡Correcto!",
        "wrong": "¡Incorrecto!",
        "imgDesc1": "Esta persona está en LinkedIn.",
        "imgDesc2": "Buscado por robo internacional de pasteles.",
        "imgDesc3": "Esta persona está en LinkedIn.",
        "imgDesc4": "Buscado por reemplazar todo el café de la oficina con descafeinado.",
        "imgDesc5": "Esta persona está en LinkedIn.",
        "imgDesc6": "Buscado por idear una red mundial de contrabando ilegal de patitos de goma.",
        "imgDesc7": "Esta persona está en LinkedIn.",
        "imgDesc8": "Buscado por enseñar a las ardillas a cometer fraude bancario.",
        "imgDesc9": "Esta persona está en LinkedIn.",
        "imgDesc10": "Esta persona está en LinkedIn.",
        "imgDesc11": "Esta persona está en LinkedIn.",
        "imgDesc12": "Esta persona está en LinkedIn.",
        "imgDesc13": "Esta persona está en LinkedIn.",
        "imgDesc14": "Buscado para ser interrogado en el gran atraco de sirope de arce de 2012.",
        "imgDesc15": "Sospechoso de liderar una sociedad secreta de dormilones competitivos.",
        "imgDesc16": "Acusado de orquestar una serie de flash mobs de buenos modales.",
        "imgDesc17": "Buscado por distribuir cumplidos falsificados.",
        "imgDesc18": "Presuntamente responsable de un brote de baile de polca incontrolable en toda la ciudad.",
        "imgDesc19": "Esta persona está en LinkedIn.",
        "imgDesc20": "Esta persona está en LinkedIn.",
        "imgDesc21": "Buscado por dejar piña en la pizza en una cumbre internacional.",
        "imgDesc22": "Esta persona está en LinkedIn.",
        "imgDesc23": "Esta persona está en LinkedIn.",
        "imgDesc24": "Sospechoso de reemplazar todos los bolígrafos de la ciudad con bolígrafos de tinta invisible.",
        "imgDesc25": "Esta persona está en LinkedIn.",
        "imgDesc26": "Acusado de programar patos para graznar en código morse para organizar atracos.",
        "imgDesc27": "Esta persona está en LinkedIn.",
        "imgDesc28": "Buscado para ser interrogado sobre la repentina aparición de gnomos de jardín en la luna.",
        "imgDesc29": "Esta persona está en LinkedIn.",
        "imgDesc30": "Esta persona está en LinkedIn.",
        "imgDesc31": "El cerebro detrás de una red mundial de lucha de pulgares competitiva.",
        "imgDesc32": "Esta person está en LinkedIn.",
        "imgDesc33": "Sospechoso de descargar ilegalmente un coche.",
        "imgDesc34": "Esta persona está en LinkedIn.",
        "imgDesc35": "Esta persona está en LinkedIn.",
        "imgDesc36": "Buscado por reemplazar el himno nacional con un solo de kazoo.",
        "imgDesc37": "Esta persona está en LinkedIn.",
        "imgDesc38": "Acusado de enseñar a las palomas a jugar al ajedrez y estafar a los turistas.",
        "imgDesc39": "Buscado por construir ilegalmente un fuerte de almohadas en un monumento nacional.",
        "imgDesc40": "Esta persona está en LinkedIn.",
        "imgDesc41": "Esta persona está en LinkedIn.",
        "imgDesc42": "Sospechoso de desatar un ejército de robots educados que se disculpan.",
        "imgDesc43": "Esta persona está en LinkedIn.",
        "imgDesc44": "Buscado por cambiar todo el azúcar por sal en los cafés de una gran ciudad.",
        "imgDesc45": "Acusado de ser el ladrón de calcetines más notorio del mundo.",
        "imgDesc46": "Esta persona está en LinkedIn.",
        "imgDesc47": "Esta persona está en LinkedIn.",
        "imgDesc48": "Buscado por organizar un evento de natación sincronizada en la Fontana de Trevi.",
        "imgDesc49": "Sospechoso de reemplazar la presentación de un CEO con videos de gatos.",
        "imgDesc50": "Esta persona está en LinkedIn."
    },
    "fr": {
        "title": "LinkedIn ou Interpol",
        "subtitle": "Professionnel ou Criminel? À vous de décider!",
        "score": "Score",
        "total": "Total",
        "autoAdvance": "Avance Automatique",
        "linkedinButton": "LinkedIn",
        "interpolButton": "Interpol",
        "nextButton": "Image Suivante",
        "footerTitle": "LinkedIn ou Interpol - Un Jeu de Déduction - Version 1.0",
        "footerDisclaimer": "Avis de non-responsabilité: Ce site web est un jeu de devinettes satirique et éducatif.",
        "privacyPolicy": "Politique de Confidentialité",
        "termsOfService": "Conditions d'Utilisation",
        "copyright": "© 2025 Jan Queralt. Tous droits réservés.",
        "correct": "Correct!",
        "wrong": "Faux!",
        "imgDesc1": "Cette personne est sur LinkedIn.",
        "imgDesc2": "Recherché pour vol international de pâtisseries.",
        "imgDesc3": "Cette personne est sur LinkedIn.",
        "imgDesc4": "Recherché pour avoir remplacé tout le café du bureau par du décaféiné.",
        "imgDesc5": "Cette personne est sur LinkedIn.",
        "imgDesc6": "Recherché pour avoir orchestré un réseau mondial de contrebande illégale de canards en caoutchouc.",
        "imgDesc7": "Cette personne est sur LinkedIn.",
        "imgDesc8": "Recherché pour avoir appris aux écureuils à commettre des fraudes bancaires.",
        "imgDesc9": "Cette personne est sur LinkedIn.",
        "imgDesc10": "Cette personne est sur LinkedIn.",
        "imgDesc11": "Cette personne est sur LinkedIn.",
        "imgDesc12": "Cette personne est sur LinkedIn.",
        "imgDesc13": "Cette personne est sur LinkedIn.",
        "imgDesc14": "Recherché pour interrogatoire dans le grand vol de sirop d'érable de 2012.",
        "imgDesc15": "Suspecté de diriger une société secrète de siesteurs compétitifs.",
        "imgDesc16": "Accusé d'avoir orchestré une série de flash mobs bien élevés.",
        "imgDesc17": "Recherché pour distribution de compliments contrefaits.",
        "imgDesc18": "Présumé responsable d'une épidémie de danse polka incontrôlable à l'échelle de la ville.",
        "imgDesc19": "Cette personne est sur LinkedIn.",
        "imgDesc20": "Cette personne est sur LinkedIn.",
        "imgDesc21": "Recherché pour avoir laissé de l'ananas sur une pizza lors d'un sommet international.",
        "imgDesc22": "Cette personne est sur LinkedIn.",
        "imgDesc23": "Cette personne est sur LinkedIn.",
        "imgDesc24": "Suspecté d'avoir remplacé tous les stylos de la ville par des stylos à encre invisible.",
        "imgDesc25": "Cette personne est sur LinkedIn.",
        "imgDesc26": "Accusé d'avoir programmé des canards pour caqueter en code morse afin d'organiser des vols.",
        "imgDesc27": "Cette personne est sur LinkedIn.",
        "imgDesc28": "Recherché pour interrogatoire concernant l'apparition soudaine de nains de jardin sur la lune.",
        "imgDesc29": "Cette personne est sur LinkedIn.",
        "imgDesc30": "Cette personne est sur LinkedIn.",
        "imgDesc31": "Le cerveau derrière un réseau mondial de bras de fer chinois compétitif.",
        "imgDesc32": "Cette personne est sur LinkedIn.",
        "imgDesc33": "Suspecté d'avoir téléchargé illégalement une voiture.",
        "imgDesc34": "Cette personne est sur LinkedIn.",
        "imgDesc35": "Cette personne est sur LinkedIn.",
        "imgDesc36": "Recherché pour avoir remplacé l'hymne national par un solo de kazoo.",
        "imgDesc37": "Cette personne est sur LinkedIn.",
        "imgDesc38": "Accusé d'avoir appris aux pigeons à jouer aux échecs et à arnaquer les touristes.",
        "imgDesc39": "Recherché pour avoir construit illégalement un fort d'oreillers dans un monument national.",
        "imgDesc40": "Cette personne est sur LinkedIn.",
        "imgDesc41": "Cette personne est sur LinkedIn.",
        "imgDesc42": "Suspecté d'avoir déchaîné une armée de robots polis qui s'excusent.",
        "imgDesc43": "Cette personne est sur LinkedIn.",
        "imgDesc44": "Recherché pour avoir échangé tout le sucre contre du sel dans les cafés d'une grande ville.",
        "imgDesc45": "Accusé d'être le voleur de chaussettes le plus notoire du monde.",
        "imgDesc46": "Cette personne est sur LinkedIn.",
        "imgDesc47": "Cette personne est sur LinkedIn.",
        "imgDesc48": "Recherché pour avoir organisé un événement de natation synchronisée dans la fontaine de Trevi.",
        "imgDesc49": "Suspecté d'avoir remplacé la présentation d'un PDG par des vidéos de chats.",
        "imgDesc50": "Cette personne est sur LinkedIn."
    }
};

const images = [
    { src: 'https://randomuser.me/api/portraits/men/1.jpg', type: 'linkedin', descriptionKey: 'imgDesc1' },
    { src: 'https://randomuser.me/api/portraits/men/2.jpg', type: 'interpol', descriptionKey: 'imgDesc2' },
    { src: 'https://randomuser.me/api/portraits/women/1.jpg', type: 'linkedin', descriptionKey: 'imgDesc3' },
    { src: 'https://randomuser.me/api/portraits/women/2.jpg', type: 'interpol', descriptionKey: 'imgDesc4' },
    { src: 'https://randomuser.me/api/portraits/men/3.jpg', type: 'linkedin', descriptionKey: 'imgDesc5' },
    { src: 'https://randomuser.me/api/portraits/men/4.jpg', type: 'interpol', descriptionKey: 'imgDesc6' },
    { src: 'https://randomuser.me/api/portraits/women/3.jpg', type: 'linkedin', descriptionKey: 'imgDesc7' },
    { src: 'https://randomuser.me/api/portraits/women/4.jpg', type: 'interpol', descriptionKey: 'imgDesc8' },
    { src: 'https://randomuser.me/api/portraits/men/5.jpg', type: 'linkedin', descriptionKey: 'imgDesc9' },
    { src: 'https://randomuser.me/api/portraits/women/5.jpg', type: 'linkedin', descriptionKey: 'imgDesc10' },
    { src: 'https://randomuser.me/api/portraits/men/6.jpg', type: 'linkedin', descriptionKey: 'imgDesc11' },
    { src: 'https://randomuser.me/api/portraits/women/6.jpg', type: 'linkedin', descriptionKey: 'imgDesc12' },
    { src: 'https://randomuser.me/api/portraits/men/7.jpg', type: 'linkedin', descriptionKey: 'imgDesc13' },
    { src: 'https://randomuser.me/api/portraits/women/7.jpg', type: 'interpol', descriptionKey: 'imgDesc14' },
    { src: 'https://randomuser.me/api/portraits/men/8.jpg', type: 'interpol', descriptionKey: 'imgDesc15' },
    { src: 'https://randomuser.me/api/portraits/women/8.jpg', type: 'interpol', descriptionKey: 'imgDesc16' },
    { src: 'https://randomuser.me/api/portraits/men/9.jpg', type: 'interpol', descriptionKey: 'imgDesc17' },
    { src: 'https://randomuser.me/api/portraits/women/9.jpg', type: 'interpol', descriptionKey: 'imgDesc18' },
    { src: 'https://randomuser.me/api/portraits/men/10.jpg', type: 'linkedin', descriptionKey: 'imgDesc19' },
    { src: 'https://randomuser.me/api/portraits/women/10.jpg', type: 'linkedin', descriptionKey: 'imgDesc20' },
    { src: 'https://randomuser.me/api/portraits/men/11.jpg', type: 'interpol', descriptionKey: 'imgDesc21' },
    { src: 'https://randomuser.me/api/portraits/women/11.jpg', type: 'linkedin', descriptionKey: 'imgDesc22' },
    { src: 'https://randomuser.me/api/portraits/men/12.jpg', type: 'linkedin', descriptionKey: 'imgDesc23' },
    { src: 'https://randomuser.me/api/portraits/women/12.jpg', type: 'interpol', descriptionKey: 'imgDesc24' },
    { src: 'https://randomuser.me/api/portraits/men/13.jpg', type: 'linkedin', descriptionKey: 'imgDesc25' },
    { src: 'https://randomuser.me/api/portraits/women/13.jpg', type: 'interpol', descriptionKey: 'imgDesc26' },
    { src: 'https://randomuser.me/api/portraits/men/14.jpg', type: 'linkedin', descriptionKey: 'imgDesc27' },
    { src: 'https://randomuser.me/api/portraits/women/14.jpg', type: 'interpol', descriptionKey: 'imgDesc28' },
    { src: 'https://randomuser.me/api/portraits/men/15.jpg', type: 'linkedin', descriptionKey: 'imgDesc29' },
    { src: 'https://randomuser.me/api/portraits/women/15.jpg', type: 'linkedin', descriptionKey: 'imgDesc30' },
    { src: 'https://randomuser.me/api/portraits/men/16.jpg', type: 'interpol', descriptionKey: 'imgDesc31' },
    { src: 'https://randomuser.me/api/portraits/women/16.jpg', type: 'linkedin', descriptionKey: 'imgDesc32' },
    { src: 'https://randomuser.me/api/portraits/men/17.jpg', type: 'interpol', descriptionKey: 'imgDesc33' },
    { src: 'https://randomuser.me/api/portraits/women/17.jpg', type: 'linkedin', descriptionKey: 'imgDesc34' },
    { src: 'https://randomuser.me/api/portraits/men/18.jpg', type: 'linkedin', descriptionKey: 'imgDesc35' },
    { src: 'https://randomuser.me/api/portraits/women/18.jpg', type: 'interpol', descriptionKey: 'imgDesc36' },
    { src: 'https://randomuser.me/api/portraits/men/19.jpg', type: 'linkedin', descriptionKey: 'imgDesc37' },
    { src: 'https://randomuser.me/api/portraits/women/19.jpg', type: 'interpol', descriptionKey: 'imgDesc38' },
    { src: 'https://randomuser.me/api/portraits/men/20.jpg', type: 'interpol', descriptionKey: 'imgDesc39' },
    { src: 'https://randomuser.me/api/portraits/women/20.jpg', type: 'linkedin', descriptionKey: 'imgDesc40' },
    { src: 'https://randomuser.me/api/portraits/men/21.jpg', type: 'linkedin', descriptionKey: 'imgDesc41' },
    { src: 'https://randomuser.me/api/portraits/women/21.jpg', type: 'interpol', descriptionKey: 'imgDesc42' },
    { src: 'https://randomuser.me/api/portraits/men/22.jpg', type: 'linkedin', descriptionKey: 'imgDesc43' },
    { src: 'https://randomuser.me/api/portraits/women/22.jpg', type: 'interpol', descriptionKey: 'imgDesc44' },
    { src: 'https://randomuser.me/api/portraits/men/23.jpg', type: 'interpol', descriptionKey: 'imgDesc45' },
    { src: 'https://randomuser.me/api/portraits/women/23.jpg', type: 'linkedin', descriptionKey: 'imgDesc46' },
    { src: 'https://randomuser.me/api/portraits/men/24.jpg', type: 'linkedin', descriptionKey: 'imgDesc47' },
    { src: 'https://randomuser.me/api/portraits/women/24.jpg', type: 'interpol', descriptionKey: 'imgDesc48' },
    { src: 'https://randomuser.me/api/portraits/men/25.jpg', type: 'interpol', descriptionKey: 'imgDesc49' },
    { src: 'https://randomuser.me/api/portraits/women/25.jpg', type: 'linkedin', descriptionKey: 'imgDesc50' }
];

let score = 0;
let total = 0;
let currentImage;
let remainingImages = [...images];
let autoAdvance = true;
let currentTranslations = {};

const profilePicture = document.getElementById('profile-picture');
const scoreSpan = document.getElementById('score');
const totalSpan = document.getElementById('total');
const linkedinButton = document.getElementById('linkedin-button');
const interpolButton = document.getElementById('interpol-button');
const feedbackEl = document.getElementById('feedback');
const descriptionEl = document.getElementById('description');
const nextButton = document.getElementById('next-button');
const autoAdvanceSwitch = document.getElementById('auto-advance-switch');
const languageSelector = document.getElementById('language-selector');

function loadLanguage(lang) {
    currentTranslations = translations[lang];
    translatePage();
}

function translatePage() {
    document.querySelectorAll('[data-i18n-key]').forEach(el => {
        const key = el.getAttribute('data-i18n-key');
        if (currentTranslations[key]) {
            el.textContent = currentTranslations[key];
        }
    });
}

function nextImage() {
    feedbackEl.textContent = '';
    feedbackEl.className = '';
    descriptionEl.textContent = '';
    nextButton.classList.add('hidden');
    linkedinButton.disabled = false;
    interpolButton.disabled = false;

    if (remainingImages.length === 0) {
        // Reshuffle the images to play again
        remainingImages = [...images];
    }

    const randomIndex = Math.floor(Math.random() * remainingImages.length);
    currentImage = remainingImages.splice(randomIndex, 1)[0];
    profilePicture.src = currentImage.src;
    total++;
    totalSpan.textContent = total;
}

function checkAnswer(guess) {
    if (guess === currentImage.type) {
        score++;
        scoreSpan.textContent = score;
        feedbackEl.textContent = currentTranslations.correct;
        feedbackEl.className = 'correct';
    } else {
        feedbackEl.textContent = currentTranslations.wrong;
        feedbackEl.className = 'incorrect';
    }

    descriptionEl.textContent = currentTranslations[currentImage.descriptionKey];
    linkedinButton.disabled = true;
    interpolButton.disabled = true;

    if (autoAdvance) {
        setTimeout(nextImage, 3000);
    } else {
        nextButton.classList.remove('hidden');
    }
}

function handleAutoAdvanceChange() {
    autoAdvance = autoAdvanceSwitch.checked;
}

function handleLanguageChange() {
    loadLanguage(languageSelector.value);
}

linkedinButton.addEventListener('click', () => checkAnswer('linkedin'));
interpolButton.addEventListener('click', () => checkAnswer('interpol'));
nextButton.addEventListener('click', nextImage);
autoAdvanceSwitch.addEventListener('change', handleAutoAdvanceChange);
languageSelector.addEventListener('change', handleLanguageChange);

// Initial load
loadLanguage('en');
nextImage();
